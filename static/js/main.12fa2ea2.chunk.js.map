{"version":3,"sources":["components/person/Person.bs.js","state/UserState.bs.js","state/TokenState.bs.js","components/user/UserComponent.bs.js","components/header/Header.bs.js","services/utils/SpotifyEnv.bs.js","components/auth/Auth.bs.js","services/authorization/AuthorizationService.bs.js","components/about/About.bs.js","util/ItemUtil.bs.js","components/item/ItemComponent.bs.js","state/SelectionState.bs.js","components/creation/search/SearchItem.bs.js","components/creation/genres/Genres.bs.js","components/creation/search/Search.bs.js","util/Hooks.bs.js","components/creation/selection/SelectionItem.bs.js","components/creation/selection/Selection.bs.js","state/RecommendationsState.bs.js","components/creation/Creation.bs.js","services/utils/RequestMapper.bs.js","services/user/UserService.bs.js","services/genres/GenresService.bs.js","services/utils/ModelMapper.bs.js","services/search/SearchService.bs.js","services/playlist/PlaylistService.bs.js","services/recomendations/RecommendationService.bs.js","components/recommendations/Recommendations.bs.js","components/dashboard/Dashboard.bs.js","services/SpotifyService.bs.js","components/main/MainContainer.bs.js","components/app/App.bs.js","components/index/Index.bs.js","bindings/ReactDomExperimental.bs.js","reportWebVitals.js","index.js"],"names":["make","Props","name","image","item","React","className","undefined","Core","alt","src","children","Caml_option","userState","Recoil","key","default","id","tokenState","setToken","TokenState$MyRescriptApp","user","UserState$MyRescriptApp","Person$MyRescriptApp","onClick","$$event","preventDefault","Curry","param","href","authenticated","UserComponent$MyRescriptApp","stateIdKey","stateId","sessionId","localStorage","getItem","uuid","V4","setItem","authorizeUrl","String","URLSearchParams","client_id","response_type","redirect_uri","scope","state","Header$MyRescriptApp","window","location","replace","SpotifyEnv$MyRescriptApp","style","marginTop","target","extractItemInfo","_0","match","showGenreLabel","control","TAG","match$1","match$2","Belt_Array","artists","artist","description","tmp","variant","tmp$1","selectionState","added","setSelected","SelectionState$MyRescriptApp","itemId","ItemUtil$MyRescriptApp","currentSelection","Check","Add","ItemComponent$MyRescriptApp","spotifyClient","setItems","setSearchTerm","searchTerm","selected","Future","getGenres","response","results","console","log","autoComplete","onChange","value","placeholder","MaterialUi_TextField","string","length","includes","itemToCheck","SearchItem$MyRescriptApp","color","debouncedSearchTerm","delay","setDebouncedValue","handler","setTimeout","clearTimeout","Hooks$MyRescriptApp","items","getSearch","onRemove","Clear","removeItem","SelectionItem$MyRescriptApp","recommendationsState","setSelectedTab","selectedTab","setRecommendations","RecommendationsState$MyRescriptApp","centered","indicatorColor","newTab","MaterialUi","textColor","label","Genres$MyRescriptApp","Search$MyRescriptApp","Selection$MyRescriptApp","getRecommendation","disabled","mapError","error","mapToUser","responseUser","images","display_name","url","mapResponseToItem","status","message","response$1","init","token","authHeader","Js_dict","$$Request","RequestMapper$MyRescriptApp","mapGenresKeyToGenresItem","gKey","toUpperCase","genres","getSmallestImage","startImg","height","a","b","mapSearchArtistToItemArtist","mapSearchTrackToItemTrack","track","album","uri","ModelMapper$MyRescriptApp","tracks","t","query","queryParam","q","type","limit","createPlaylistMapping","generateTrackQueryParam","Belt_HashMapString","seedTracks","join","getTrackUris","addTracksMapping","userId","playlistName","dict","body","JSON","stringify","createPlaylist","createdPlaylist","playlistId","addTracks","generateQueryParam","seedArtists","getSeedArtists","getSeedTracks","seedGenres","getSeedGenres","onPlaylistCreated","setPlaylistName","margin","marginRight","flex","recommendations","setUser","setSnackbarOpen","SearchService$MyRescriptApp","GenresService$MyRescriptApp","RecommendationService$MyRescriptApp","PlaylistService$MyRescriptApp","getUser","UserService$MyRescriptApp","SpotifyService$MyRescriptApp","Recommendations$MyRescriptApp","Creation$MyRescriptApp","About$MyRescriptApp","autoHideDuration","MaterialUi_Types","$$int","Lab","onClose","severity","param$1","open","parameter","hash","slice","split","s","p","AuthorizationService$MyRescriptApp","Dashboard$MyRescriptApp","Auth$MyRescriptApp","maxWidth","MaterialUi_Container","sm","MainContainer$MyRescriptApp","root","element","document","getElementById","ReactDom","ReactDomExperimental$MyRescriptApp","render","App$MyRescriptApp","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","reportWebVitals"],"mappings":"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","file":"static/js/main.12fa2ea2.chunk.js","sourcesContent":["\n\nimport * as React from \"react\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Core from \"@material-ui/core\";\n\nimport './Person.css';\n;\n\nfunction Person(Props) {\n  var name = Props.name;\n  var image = Props.image;\n  var item = Props.item;\n  return React.createElement(\"div\", {\n              className: \"person\"\n            }, image !== undefined ? React.createElement(Core.Avatar, {\n                    alt: name,\n                    src: image\n                  }) : React.createElement(Core.Avatar, {\n                    children: name[0]\n                  }), React.createElement(\"div\", {\n                  className: \"person-name\"\n                }, item !== undefined ? Caml_option.valFromOption(item) : React.createElement(Core.Typography, {\n                        children: name\n                      })));\n}\n\nvar make = Person;\n\nexport {\n  make ,\n  \n}\n/*  Not a pure module */\n","\n\nimport * as Recoil from \"recoil\";\n\nvar userState = Recoil.atom({\n      key: \"userState\",\n      default: {\n        id: \"guest\",\n        name: \"Guest\",\n        image: \"\"\n      }\n    });\n\nexport {\n  userState ,\n  \n}\n/* userState Not a pure module */\n","\n\nimport * as Recoil from \"recoil\";\n\nvar tokenState = Recoil.atom({\n      key: \"tokenState\",\n      default: \"\"\n    });\n\nexport {\n  tokenState ,\n  \n}\n/* tokenState Not a pure module */\n","\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Recoil from \"recoil\";\nimport * as Core from \"@material-ui/core\";\nimport * as Person$MyRescriptApp from \"../person/Person.bs.js\";\nimport * as UserState$MyRescriptApp from \"../../state/UserState.bs.js\";\nimport * as TokenState$MyRescriptApp from \"../../state/TokenState.bs.js\";\n\nfunction UserComponent(Props) {\n  var match = Recoil.useRecoilState(TokenState$MyRescriptApp.tokenState);\n  var setToken = match[1];\n  var user = Recoil.useRecoilValue(UserState$MyRescriptApp.userState);\n  var logout = function ($$event) {\n    $$event.preventDefault();\n    return Curry._1(setToken, (function (param) {\n                  return \"\";\n                }));\n  };\n  return React.createElement(\"div\", {\n              className: \"hbox\"\n            }, React.createElement(Person$MyRescriptApp.make, {\n                  name: user.name,\n                  image: user.image,\n                  item: React.createElement(Core.Typography, {\n                        children: null\n                      }, user.name + \" | \", React.createElement(Core.Link, {\n                            children: \"Logout\",\n                            onClick: logout,\n                            href: \"#\"\n                          }))\n                }));\n}\n\nvar make = UserComponent;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","\n\nimport * as React from \"react\";\nimport * as Core from \"@material-ui/core\";\nimport * as UserComponent$MyRescriptApp from \"../user/UserComponent.bs.js\";\n\nimport './Header.css';\n;\n\nfunction Header(Props) {\n  var authenticated = Props.authenticated;\n  return React.createElement(\"div\", {\n              className: \"header\"\n            }, React.createElement(Core.Typography, {\n                  children: \"spotigen\"\n                }), authenticated ? React.createElement(UserComponent$MyRescriptApp.make, {}) : null);\n}\n\nvar make = Header;\n\nexport {\n  make ,\n  \n}\n/*  Not a pure module */\n","\n\nimport * as V4 from \"uuid/v4\";\n\nvar clientId = \"2e53e2a82ee64c4dbf48f4936ae1bb02\";\n\nvar stateIdKey = \"sessionId\";\n\nvar baseUrl = \"https://api.spotify.com/v1\";\n\nvar searchUrl = \"https://api.spotify.com/v1/search?\";\n\nvar genresUrl = \"https://api.spotify.com/v1/recommendations/available-genre-seeds\";\n\nvar recommendationUrl = \"https://api.spotify.com/v1/recommendations?\";\n\nvar userUrl = \"https://api.spotify.com/v1/me\";\n\nvar usersUrl = \"https://api.spotify.com/v1/users/\";\n\nvar playlistsUrl = \"https://api.spotify.com/v1/playlists/\";\n\nfunction stateId(param) {\n  var sessionId = localStorage.getItem(stateIdKey);\n  if (sessionId !== null) {\n    return sessionId;\n  }\n  var uuid = V4();\n  localStorage.setItem(stateIdKey, uuid);\n  return uuid;\n}\n\nvar authParams = String(new URLSearchParams({\n          client_id: clientId,\n          response_type: \"token\",\n          redirect_uri: \"http://localhost:3000/\",\n          scope: \"playlist-modify-private\",\n          state: stateId(undefined)\n        }));\n\nvar authorizeUrl = \"https://accounts.spotify.com/authorize?\" + authParams;\n\nvar tokenKey = \"accessToken\";\n\nvar playlistsEndpoint = \"/playlists\";\n\nvar tracksEndpoint = \"/tracks?\";\n\nexport {\n  clientId ,\n  stateIdKey ,\n  tokenKey ,\n  baseUrl ,\n  searchUrl ,\n  genresUrl ,\n  recommendationUrl ,\n  userUrl ,\n  usersUrl ,\n  playlistsEndpoint ,\n  playlistsUrl ,\n  tracksEndpoint ,\n  stateId ,\n  authParams ,\n  authorizeUrl ,\n  \n}\n/* authParams Not a pure module */\n","\n\nimport * as React from \"react\";\nimport * as Core from \"@material-ui/core\";\nimport * as Header$MyRescriptApp from \"../header/Header.bs.js\";\nimport * as AuthorizationService$MyRescriptApp from \"../../services/authorization/AuthorizationService.bs.js\";\n\nfunction Auth(Props) {\n  var connectSpotify = function (param) {\n    return AuthorizationService$MyRescriptApp.authorize(undefined);\n  };\n  return React.createElement(\"div\", undefined, React.createElement(Header$MyRescriptApp.make, {\n                  authenticated: false\n                }), React.createElement(\"p\", undefined, \"By connecting your Spotify account, you agree to our Privacy Policy\"), React.createElement(Core.Button, {\n                  onClick: connectSpotify,\n                  children: \"Login with Spotify\"\n                }));\n}\n\nvar make = Auth;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","\n\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Belt_HashMapString from \"bs-platform/lib/es6/belt_HashMapString.js\";\nimport * as SpotifyEnv$MyRescriptApp from \"../utils/SpotifyEnv.bs.js\";\n\nfunction authorize(param) {\n  window.location.replace(SpotifyEnv$MyRescriptApp.authorizeUrl);\n  \n}\n\nfunction getTokenFromCallback(param) {\n  var parameter = Belt_HashMapString.fromArray(Belt_Array.map(Belt_Array.keep(Belt_Array.map(window.location.hash.slice(1).split(\"&\"), (function (s) {\n                      return s.split(\"=\");\n                    })), (function (a) {\n                  return a.length === 2;\n                })), (function (p) {\n              return [\n                      p[0],\n                      String(p[1])\n                    ];\n            })));\n  var s = Belt_HashMapString.get(parameter, \"state\");\n  if (s === undefined) {\n    return ;\n  }\n  if (s !== SpotifyEnv$MyRescriptApp.stateId(undefined)) {\n    return ;\n  }\n  var t = Belt_HashMapString.get(parameter, \"access_token\");\n  if (t !== undefined) {\n    return t;\n  }\n  \n}\n\nexport {\n  authorize ,\n  getTokenFromCallback ,\n  \n}\n/* SpotifyEnv-MyRescriptApp Not a pure module */\n","\n\nimport * as React from \"react\";\nimport * as Core from \"@material-ui/core\";\nimport * as Person$MyRescriptApp from \"../person/Person.bs.js\";\n\nfunction About(Props) {\n  return React.createElement(\"div\", {\n              style: {\n                marginTop: \"32px\"\n              }\n            }, React.createElement(Core.Typography, {\n                  children: \"Created by\"\n                }), React.createElement(Person$MyRescriptApp.make, {\n                  name: \"Damien Jochim\",\n                  image: \"https://pbs.twimg.com/profile_images/1284521496438874112/LDA9UyiN_400x400.jpg\",\n                  item: React.createElement(Core.Link, {\n                        children: \"@damien_jochim\",\n                        href: \"https://twitter.com/damien_jochim\",\n                        target: \"_blank\"\n                      })\n                }), React.createElement(Person$MyRescriptApp.make, {\n                  name: \"Stefan Blamberg\",\n                  image: \"https://pbs.twimg.com/profile_images/1328445229221949442/1uPmXD13_400x400.jpg\",\n                  item: React.createElement(Core.Link, {\n                        children: \"@StefanBlamberg\",\n                        href: \"https://twitter.com/StefanBlamberg\",\n                        target: \"_blank\"\n                      })\n                }));\n}\n\nvar make = About;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","\n\n\nfunction extractItemInfo(item) {\n  return [\n          item,\n          item._0.id\n        ];\n}\n\nexport {\n  extractItemInfo ,\n  \n}\n/* No side effect */\n","\n\nimport * as React from \"react\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Core from \"@material-ui/core\";\n\nimport './Item.css';\n;\n\nfunction ItemComponent(Props) {\n  var item = Props.item;\n  var showGenreLabel = Props.showGenreLabel;\n  var control = Props.control;\n  var match;\n  switch (item.TAG | 0) {\n    case /* Genre */0 :\n        match = [\n          item._0.name,\n          \"\",\n          showGenreLabel ? \"Genre\" : \"\"\n        ];\n        break;\n    case /* Artist */1 :\n        var match$1 = item._0;\n        match = [\n          match$1.name,\n          match$1.image,\n          \"Artist\"\n        ];\n        break;\n    case /* Track */2 :\n        var match$2 = item._0;\n        match = [\n          match$2.name,\n          match$2.image,\n          \"Track by \" + Belt_Array.joinWith(match$2.artists, \", \", (function (artist) {\n                  return artist.name;\n                }))\n        ];\n        break;\n    \n  }\n  var description = match[2];\n  var image = match[1];\n  var name = match[0];\n  var tmp = image === \"\" ? React.createElement(Core.Avatar, {\n          children: name[0],\n          className: \"cover\",\n          variant: \"square\"\n        }) : React.createElement(\"img\", {\n          className: \"cover\",\n          src: image\n        });\n  var tmp$1 = description === \"\" ? null : React.createElement(Core.Typography, {\n          children: description,\n          className: \"description\"\n        });\n  return React.createElement(\"div\", {\n              className: \"item\"\n            }, tmp, React.createElement(\"div\", {\n                  className: \"caption\"\n                }, React.createElement(Core.Typography, {\n                      children: name\n                    }), tmp$1), control);\n}\n\nvar make = ItemComponent;\n\nexport {\n  make ,\n  \n}\n/*  Not a pure module */\n","\n\nimport * as Recoil from \"recoil\";\n\nvar selectionState = Recoil.atom({\n      key: \"selectionState\",\n      default: []\n    });\n\nexport {\n  selectionState ,\n  \n}\n/* selectionState Not a pure module */\n","\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Recoil from \"recoil\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Core from \"@material-ui/core\";\nimport Add from \"@material-ui/icons/Add\";\nimport * as ItemUtil$MyRescriptApp from \"../../../util/ItemUtil.bs.js\";\nimport Check from \"@material-ui/icons/Check\";\nimport * as ItemComponent$MyRescriptApp from \"../../item/ItemComponent.bs.js\";\nimport * as SelectionState$MyRescriptApp from \"../../../state/SelectionState.bs.js\";\n\nfunction SearchItem(Props) {\n  var item = Props.item;\n  var added = Props.added;\n  var match = Recoil.useRecoilState(SelectionState$MyRescriptApp.selectionState);\n  var setSelected = match[1];\n  var addItem = function (param) {\n    return Curry._1(setSelected, (function (currentSelection) {\n                  return Belt_Array.concat(currentSelection, [item]);\n                }));\n  };\n  var removeItem = function (param) {\n    var match = ItemUtil$MyRescriptApp.extractItemInfo(item);\n    var itemId = match[1];\n    return Curry._1(setSelected, (function (currentSelection) {\n                  return Belt_Array.keep(currentSelection, (function (item) {\n                                var match = ItemUtil$MyRescriptApp.extractItemInfo(item);\n                                return match[1] !== itemId;\n                              }));\n                }));\n  };\n  var control = added ? React.createElement(Core.IconButton, {\n          onClick: removeItem,\n          children: React.createElement(Check, {})\n        }) : React.createElement(Core.IconButton, {\n          onClick: addItem,\n          children: React.createElement(Add, {})\n        });\n  return React.createElement(ItemComponent$MyRescriptApp.make, {\n              item: item,\n              showGenreLabel: false,\n              control: control\n            });\n}\n\nvar make = SearchItem;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Future from \"rescript-future/src/Future.bs.js\";\nimport * as Recoil from \"recoil\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Core from \"@material-ui/core\";\nimport * as MaterialUi_TextField from \"@jsiebern/bs-material-ui/src/MaterialUi_TextField.bs.js\";\nimport * as ItemUtil$MyRescriptApp from \"../../../util/ItemUtil.bs.js\";\nimport * as SearchItem$MyRescriptApp from \"../search/SearchItem.bs.js\";\nimport * as SelectionState$MyRescriptApp from \"../../../state/SelectionState.bs.js\";\n\nfunction Genres(Props) {\n  var spotifyClient = Props.spotifyClient;\n  var match = React.useState(function () {\n        return [];\n      });\n  var setItems = match[1];\n  var match$1 = React.useState(function () {\n        return \"\";\n      });\n  var setSearchTerm = match$1[1];\n  var searchTerm = match$1[0];\n  var match$2 = Recoil.useRecoilState(SelectionState$MyRescriptApp.selectionState);\n  var selected = match$2[0];\n  var changeSearchTerm = function ($$event) {\n    return Curry._1(setSearchTerm, $$event.target.value);\n  };\n  React.useEffect((function () {\n          Future.get(Curry._1(spotifyClient.getGenres, undefined), (function (response) {\n                  if (response.TAG === /* Ok */0) {\n                    var results = response._0;\n                    return Curry._1(setItems, (function (param) {\n                                  return results;\n                                }));\n                  }\n                  console.log(response._0);\n                  \n                }));\n          \n        }), []);\n  return React.createElement(\"div\", undefined, React.createElement(\"form\", {\n                  autoComplete: \"off\"\n                }, React.createElement(Core.TextField, {\n                      className: \"input\",\n                      onChange: changeSearchTerm,\n                      placeholder: \"Search\",\n                      value: MaterialUi_TextField.Value.string(searchTerm),\n                      variant: \"outlined\"\n                    })), React.createElement(\"div\", {\n                  className: \"spacing\"\n                }, searchTerm.length !== 0 ? Belt_Array.map(Belt_Array.keep(Belt_Array.map(match[0], ItemUtil$MyRescriptApp.extractItemInfo), (function (param) {\n                              if (searchTerm !== \"\") {\n                                return param[1].includes(searchTerm);\n                              } else {\n                                return false;\n                              }\n                            })), (function (param) {\n                          var id = param[1];\n                          var added = Belt_Array.some(selected, (function (itemToCheck) {\n                                  var match = ItemUtil$MyRescriptApp.extractItemInfo(itemToCheck);\n                                  return match[1] === id;\n                                }));\n                          return React.createElement(SearchItem$MyRescriptApp.make, {\n                                      item: param[0],\n                                      added: added,\n                                      key: id\n                                    });\n                        })) : React.createElement(Core.Typography, {\n                        children: \"Enter a search term to select genres\",\n                        style: {\n                          color: \"grey\"\n                        }\n                      })));\n}\n\nvar make = Genres;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Future from \"rescript-future/src/Future.bs.js\";\nimport * as Recoil from \"recoil\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Core from \"@material-ui/core\";\nimport * as Hooks$MyRescriptApp from \"../../../util/Hooks.bs.js\";\nimport * as MaterialUi_TextField from \"@jsiebern/bs-material-ui/src/MaterialUi_TextField.bs.js\";\nimport * as ItemUtil$MyRescriptApp from \"../../../util/ItemUtil.bs.js\";\nimport * as SearchItem$MyRescriptApp from \"./SearchItem.bs.js\";\nimport * as SelectionState$MyRescriptApp from \"../../../state/SelectionState.bs.js\";\n\nfunction Search(Props) {\n  var spotifyClient = Props.spotifyClient;\n  var match = React.useState(function () {\n        return \"\";\n      });\n  var setSearchTerm = match[1];\n  var searchTerm = match[0];\n  var debouncedSearchTerm = Hooks$MyRescriptApp.useDebounce(searchTerm, 400);\n  var match$1 = React.useState(function () {\n        return [];\n      });\n  var setItems = match$1[1];\n  var items = match$1[0];\n  var match$2 = Recoil.useRecoilState(SelectionState$MyRescriptApp.selectionState);\n  var selected = match$2[0];\n  var changeSearchTerm = function ($$event) {\n    return Curry._1(setSearchTerm, $$event.target.value);\n  };\n  React.useEffect((function () {\n          if (debouncedSearchTerm === \"\") {\n            Curry._1(setItems, (function (param) {\n                    return [];\n                  }));\n          } else {\n            Future.get(Curry._1(spotifyClient.getSearch, debouncedSearchTerm), (function (response) {\n                    if (response.TAG === /* Ok */0) {\n                      var results = response._0;\n                      return Curry._1(setItems, (function (param) {\n                                    return results;\n                                  }));\n                    }\n                    console.log(response._0);\n                    \n                  }));\n          }\n          \n        }), [debouncedSearchTerm]);\n  return React.createElement(\"div\", undefined, React.createElement(\"form\", {\n                  autoComplete: \"off\"\n                }, React.createElement(Core.TextField, {\n                      className: \"input\",\n                      onChange: changeSearchTerm,\n                      placeholder: \"Search\",\n                      value: MaterialUi_TextField.Value.string(searchTerm),\n                      variant: \"outlined\"\n                    })), React.createElement(\"div\", {\n                  className: \"spacing\"\n                }, items.length !== 0 ? Belt_Array.map(items, (function (item) {\n                          var match = ItemUtil$MyRescriptApp.extractItemInfo(item);\n                          var id = match[1];\n                          var added = Belt_Array.some(selected, (function (itemToCheck) {\n                                  var match = ItemUtil$MyRescriptApp.extractItemInfo(itemToCheck);\n                                  return match[1] === id;\n                                }));\n                          return React.createElement(SearchItem$MyRescriptApp.make, {\n                                      item: item,\n                                      added: added,\n                                      key: id\n                                    });\n                        })) : React.createElement(Core.Typography, {\n                        children: \"Enter a search term to select items\",\n                        style: {\n                          color: \"grey\"\n                        }\n                      })));\n}\n\nvar make = Search;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\n\nfunction useDebounce(value, delay) {\n  var match = React.useState(function () {\n        return value;\n      });\n  var setDebouncedValue = match[1];\n  React.useEffect((function () {\n          var handler = setTimeout((function (param) {\n                  return Curry._1(setDebouncedValue, (function (param) {\n                                return value;\n                              }));\n                }), delay);\n          return (function (param) {\n                    clearTimeout(handler);\n                    \n                  });\n        }), [value]);\n  return match[0];\n}\n\nexport {\n  useDebounce ,\n  \n}\n/* react Not a pure module */\n","\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Core from \"@material-ui/core\";\nimport Clear from \"@material-ui/icons/Clear\";\nimport * as ItemComponent$MyRescriptApp from \"../../item/ItemComponent.bs.js\";\n\nfunction SelectionItem(Props) {\n  var item = Props.item;\n  var id = Props.id;\n  var onRemove = Props.onRemove;\n  var removeItem = function (param) {\n    return Curry._1(onRemove, id);\n  };\n  return React.createElement(ItemComponent$MyRescriptApp.make, {\n              item: item,\n              showGenreLabel: true,\n              control: React.createElement(Core.IconButton, {\n                    onClick: removeItem,\n                    children: React.createElement(Clear, {})\n                  })\n            });\n}\n\nvar make = SelectionItem;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Recoil from \"recoil\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Core from \"@material-ui/core\";\nimport * as ItemUtil$MyRescriptApp from \"../../../util/ItemUtil.bs.js\";\nimport * as SelectionItem$MyRescriptApp from \"./SelectionItem.bs.js\";\nimport * as SelectionState$MyRescriptApp from \"../../../state/SelectionState.bs.js\";\n\nfunction $$Selection(Props) {\n  var match = Recoil.useRecoilState(SelectionState$MyRescriptApp.selectionState);\n  var setItems = match[1];\n  var items = match[0];\n  var removeItem = function (itemId) {\n    return Curry._1(setItems, (function (currentSelection) {\n                  return Belt_Array.keep(currentSelection, (function (item) {\n                                var match = ItemUtil$MyRescriptApp.extractItemInfo(item);\n                                return match[1] !== itemId;\n                              }));\n                }));\n  };\n  return React.createElement(\"div\", {\n              className: \"spacing\"\n            }, items.length !== 0 ? Belt_Array.map(items, (function (item) {\n                      var match = ItemUtil$MyRescriptApp.extractItemInfo(item);\n                      var id = match[1];\n                      return React.createElement(SelectionItem$MyRescriptApp.make, {\n                                  item: item,\n                                  id: id,\n                                  onRemove: removeItem,\n                                  key: id\n                                });\n                    })) : React.createElement(Core.Typography, {\n                    children: \"Select at least one item to generate recommendations\",\n                    style: {\n                      color: \"grey\"\n                    }\n                  }));\n}\n\nvar make = $$Selection;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","\n\nimport * as Recoil from \"recoil\";\n\nvar recommendationsState = Recoil.atom({\n      key: \"recommendationsState\",\n      default: []\n    });\n\nexport {\n  recommendationsState ,\n  \n}\n/* recommendationsState Not a pure module */\n","\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Future from \"rescript-future/src/Future.bs.js\";\nimport * as Recoil from \"recoil\";\nimport * as MaterialUi from \"@jsiebern/bs-material-ui/src/MaterialUi.bs.js\";\nimport * as Core from \"@material-ui/core\";\nimport * as Genres$MyRescriptApp from \"./genres/Genres.bs.js\";\nimport * as Search$MyRescriptApp from \"./search/Search.bs.js\";\nimport * as Selection$MyRescriptApp from \"./selection/Selection.bs.js\";\nimport * as SelectionState$MyRescriptApp from \"../../state/SelectionState.bs.js\";\nimport * as RecommendationsState$MyRescriptApp from \"../../state/RecommendationsState.bs.js\";\n\nfunction Creation(Props) {\n  var spotifyClient = Props.spotifyClient;\n  var match = React.useState(function () {\n        return 0;\n      });\n  var setSelectedTab = match[1];\n  var selectedTab = match[0];\n  var selected = Recoil.useRecoilValue(SelectionState$MyRescriptApp.selectionState);\n  var match$1 = Recoil.useRecoilState(RecommendationsState$MyRescriptApp.recommendationsState);\n  var setRecommendations = match$1[1];\n  var generate = function (param) {\n    return Future.get(Curry._1(spotifyClient.getRecommendation, selected), (function (response) {\n                  if (response.TAG === /* Ok */0) {\n                    var results = response._0;\n                    return Curry._1(setRecommendations, (function (param) {\n                                  return results;\n                                }));\n                  }\n                  console.log(response._0);\n                  \n                }));\n  };\n  var selectTab = function (param, newTab) {\n    return Curry._1(setSelectedTab, (function (param) {\n                  return MaterialUi.anyUnpack(newTab);\n                }));\n  };\n  return React.createElement(\"div\", undefined, React.createElement(Core.Typography, {\n                  children: \"Get started\",\n                  className: \"spacing\",\n                  variant: \"h4\"\n                }), React.createElement(Core.Typography, {\n                  children: \"Choose tracks, genres and artists as a base for your recommendations\"\n                }), React.createElement(Core.Tabs, {\n                  centered: true,\n                  children: null,\n                  className: \"spacing\",\n                  indicatorColor: \"primary\",\n                  onChange: selectTab,\n                  textColor: \"primary\",\n                  value: selectedTab,\n                  variant: \"fullWidth\"\n                }, React.createElement(Core.Tab, {\n                      label: \"Search\"\n                    }), React.createElement(Core.Tab, {\n                      label: \"Genres\"\n                    })), selectedTab !== 0 ? (\n                selectedTab !== 1 ? null : React.createElement(Genres$MyRescriptApp.make, {\n                        spotifyClient: spotifyClient\n                      })\n              ) : React.createElement(Search$MyRescriptApp.make, {\n                    spotifyClient: spotifyClient\n                  }), React.createElement(Core.Typography, {\n                  children: \"Your selection\",\n                  variant: \"h4\"\n                }), React.createElement(Selection$MyRescriptApp.make, {}), React.createElement(Core.Button, {\n                  onClick: generate,\n                  children: \"Generate recommendations\",\n                  color: \"primary\",\n                  disabled: selected.length === 0,\n                  variant: \"contained\"\n                }));\n}\n\nvar make = Creation;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","\n\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\n\nfunction mapError(error) {\n  if (error === \"Timeout\") {\n    return /* Timeout */2;\n  } else {\n    return /* NetworkError */1;\n  }\n}\n\nfunction emptyToError(param) {\n  var response = param.response;\n  if (response !== undefined) {\n    return {\n            TAG: /* Ok */0,\n            _0: Caml_option.valFromOption(response)\n          };\n  } else {\n    return {\n            TAG: /* Error */1,\n            _0: /* Empty */0\n          };\n  }\n}\n\nexport {\n  mapError ,\n  emptyToError ,\n  \n}\n/* No side effect */\n","\n\nimport * as Future from \"rescript-future/src/Future.bs.js\";\nimport * as Js_dict from \"bs-platform/lib/es6/js_dict.js\";\nimport * as $$Request from \"rescript-request/src/Request.bs.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as SpotifyEnv$MyRescriptApp from \"../utils/SpotifyEnv.bs.js\";\nimport * as RequestMapper$MyRescriptApp from \"../utils/RequestMapper.bs.js\";\n\nfunction mapToUser(responseUser) {\n  var value = Belt_Array.get(responseUser.images, 0);\n  return {\n          id: responseUser.id,\n          name: responseUser.display_name,\n          image: value !== undefined ? value.url : \"\"\n        };\n}\n\nfunction mapResponseToItem(response) {\n  var status = response.status;\n  if (status !== 200) {\n    return {\n            TAG: /* Error */1,\n            _0: /* ResponseError */{\n              _0: {\n                message: \"Failed request with $status\"\n              }\n            }\n          };\n  }\n  var response$1 = response.response;\n  if (response$1 !== undefined) {\n    return {\n            TAG: /* Ok */0,\n            _0: mapToUser(response$1)\n          };\n  } else {\n    return {\n            TAG: /* Error */1,\n            _0: /* Empty */0\n          };\n  }\n}\n\nfunction init(token) {\n  var authHeader = Js_dict.fromArray([[\n          \"Authorization\",\n          \"Bearer \" + token\n        ]]);\n  return function (param) {\n    return Future.mapResult(Future.mapError($$Request.make(SpotifyEnv$MyRescriptApp.userUrl, undefined, /* JsonAsAny */5, undefined, Caml_option.some(authHeader), undefined, undefined, undefined, undefined, undefined), true, RequestMapper$MyRescriptApp.mapError), true, mapResponseToItem);\n  };\n}\n\nexport {\n  mapToUser ,\n  mapResponseToItem ,\n  init ,\n  \n}\n/* SpotifyEnv-MyRescriptApp Not a pure module */\n","\n\nimport * as Future from \"rescript-future/src/Future.bs.js\";\nimport * as Js_dict from \"bs-platform/lib/es6/js_dict.js\";\nimport * as $$Request from \"rescript-request/src/Request.bs.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as SpotifyEnv$MyRescriptApp from \"../utils/SpotifyEnv.bs.js\";\nimport * as RequestMapper$MyRescriptApp from \"../utils/RequestMapper.bs.js\";\n\nfunction mapGenresKeyToGenresItem(gKey) {\n  return {\n          TAG: /* Genre */0,\n          _0: {\n            id: gKey,\n            name: gKey.replace(/\\-/g, \" \").toUpperCase()\n          }\n        };\n}\n\nfunction mapResponseToItem(response) {\n  var status = response.status;\n  if (status !== 200) {\n    return {\n            TAG: /* Error */1,\n            _0: /* ResponseError */{\n              _0: {\n                message: \"Failed request with $status\"\n              }\n            }\n          };\n  }\n  var response$1 = response.response;\n  if (response$1 === undefined) {\n    return {\n            TAG: /* Error */1,\n            _0: /* Empty */0\n          };\n  }\n  var genres = Belt_Array.map(response$1.genres, mapGenresKeyToGenresItem);\n  return {\n          TAG: /* Ok */0,\n          _0: genres\n        };\n}\n\nfunction init(token) {\n  var authHeader = Js_dict.fromArray([[\n          \"Authorization\",\n          \"Bearer \" + token\n        ]]);\n  return function (param) {\n    return Future.mapResult(Future.mapError($$Request.make(SpotifyEnv$MyRescriptApp.genresUrl, undefined, /* JsonAsAny */5, undefined, Caml_option.some(authHeader), undefined, undefined, undefined, undefined, undefined), true, RequestMapper$MyRescriptApp.mapError), true, mapResponseToItem);\n  };\n}\n\nexport {\n  mapGenresKeyToGenresItem ,\n  mapResponseToItem ,\n  init ,\n  \n}\n/* SpotifyEnv-MyRescriptApp Not a pure module */\n","\n\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\n\nfunction getSmallestImage(images) {\n  var startImg = {\n    url: \"\",\n    height: 999999\n  };\n  if (images !== undefined) {\n    return Belt_Array.reduce(images, startImg, (function (a, b) {\n                  if (a.height < b.height) {\n                    return a;\n                  } else {\n                    return b;\n                  }\n                }));\n  } else {\n    return startImg;\n  }\n}\n\nfunction mapSearchArtistToItemArtist(artist) {\n  return {\n          id: artist.id,\n          name: artist.name,\n          image: getSmallestImage(artist.images).url\n        };\n}\n\nfunction mapSearchTrackToItemTrack(track) {\n  return {\n          id: track.id,\n          artists: Belt_Array.map(track.artists, mapSearchArtistToItemArtist),\n          name: track.name,\n          image: getSmallestImage(track.album.images).url,\n          uri: track.uri\n        };\n}\n\nexport {\n  getSmallestImage ,\n  mapSearchArtistToItemArtist ,\n  mapSearchTrackToItemTrack ,\n  \n}\n/* No side effect */\n","\n\nimport * as Future from \"rescript-future/src/Future.bs.js\";\nimport * as Js_dict from \"bs-platform/lib/es6/js_dict.js\";\nimport * as $$Request from \"rescript-request/src/Request.bs.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as SpotifyEnv$MyRescriptApp from \"../utils/SpotifyEnv.bs.js\";\nimport * as ModelMapper$MyRescriptApp from \"../utils/ModelMapper.bs.js\";\nimport * as RequestMapper$MyRescriptApp from \"../utils/RequestMapper.bs.js\";\n\nfunction mapResponseToItem(response) {\n  var status = response.status;\n  if (status !== 200) {\n    return {\n            TAG: /* Error */1,\n            _0: /* ResponseError */{\n              _0: {\n                message: \"Failed request with $status\"\n              }\n            }\n          };\n  }\n  var response$1 = response.response;\n  if (response$1 === undefined) {\n    return {\n            TAG: /* Error */1,\n            _0: /* Empty */0\n          };\n  }\n  var artists = Belt_Array.map(Belt_Array.map(response$1.artists.items, ModelMapper$MyRescriptApp.mapSearchArtistToItemArtist), (function (a) {\n          return {\n                  TAG: /* Artist */1,\n                  _0: a\n                };\n        }));\n  var tracks = Belt_Array.map(Belt_Array.map(response$1.tracks.items, ModelMapper$MyRescriptApp.mapSearchTrackToItemTrack), (function (t) {\n          return {\n                  TAG: /* Track */2,\n                  _0: t\n                };\n        }));\n  return {\n          TAG: /* Ok */0,\n          _0: Belt_Array.concat(artists, tracks)\n        };\n}\n\nfunction init(token) {\n  var authHeader = Js_dict.fromArray([[\n          \"Authorization\",\n          \"Bearer \" + token\n        ]]);\n  return function (query) {\n    var queryParam = String(new URLSearchParams({\n              q: query,\n              type: \"artist,track\",\n              limit: 5\n            }));\n    return Future.mapResult(Future.mapError($$Request.make(SpotifyEnv$MyRescriptApp.searchUrl + queryParam, undefined, /* JsonAsAny */5, undefined, Caml_option.some(authHeader), undefined, undefined, undefined, undefined, undefined), true, RequestMapper$MyRescriptApp.mapError), true, mapResponseToItem);\n  };\n}\n\nexport {\n  mapResponseToItem ,\n  init ,\n  \n}\n/* SpotifyEnv-MyRescriptApp Not a pure module */\n","\n\nimport * as Future from \"rescript-future/src/Future.bs.js\";\nimport * as Js_dict from \"bs-platform/lib/es6/js_dict.js\";\nimport * as $$Request from \"rescript-request/src/Request.bs.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Belt_HashMapString from \"bs-platform/lib/es6/belt_HashMapString.js\";\nimport * as SpotifyEnv$MyRescriptApp from \"../utils/SpotifyEnv.bs.js\";\nimport * as RequestMapper$MyRescriptApp from \"../utils/RequestMapper.bs.js\";\n\nfunction createPlaylistMapping(response) {\n  var status = response.status;\n  if (status !== 201) {\n    console.log(response);\n    return {\n            TAG: /* Error */1,\n            _0: /* ResponseError */{\n              _0: {\n                message: \"Failed request to create Playlist\"\n              }\n            }\n          };\n  }\n  var response$1 = response.response;\n  if (response$1 !== undefined) {\n    return {\n            TAG: /* Ok */0,\n            _0: Caml_option.valFromOption(response$1)\n          };\n  } else {\n    return {\n            TAG: /* Error */1,\n            _0: /* Empty */0\n          };\n  }\n}\n\nfunction createPlaylist(userId, playlistName, authHeader) {\n  var dict = {};\n  dict[\"name\"] = playlistName;\n  dict[\"public\"] = false;\n  var body = JSON.stringify(dict);\n  console.log(body);\n  return Future.mapResult(Future.mapError($$Request.make(SpotifyEnv$MyRescriptApp.usersUrl + userId + SpotifyEnv$MyRescriptApp.playlistsEndpoint, \"POST\", /* JsonAsAny */5, body, Caml_option.some(authHeader), undefined, undefined, undefined, undefined, undefined), true, RequestMapper$MyRescriptApp.mapError), true, createPlaylistMapping);\n}\n\nfunction getTrackUris(items) {\n  return Belt_Array.keep(Belt_Array.map(items, (function (item) {\n                      switch (item.TAG | 0) {\n                        case /* Genre */0 :\n                        case /* Artist */1 :\n                            return ;\n                        case /* Track */2 :\n                            return item._0.uri;\n                        \n                      }\n                    })), (function (artist) {\n                  return artist !== undefined;\n                })).join(\",\");\n}\n\nfunction generateTrackQueryParam(items) {\n  var queryParam = Belt_HashMapString.fromArray([]);\n  var seedTracks = getTrackUris(items);\n  if (seedTracks.length !== 0) {\n    Belt_HashMapString.set(queryParam, \"uris\", seedTracks);\n  }\n  return String(new URLSearchParams(Belt_HashMapString.toArray(queryParam)));\n}\n\nfunction addTracksMapping(response) {\n  var status = response.status;\n  if (status !== 200) {\n    return {\n            TAG: /* Error */1,\n            _0: /* ResponseError */{\n              _0: {\n                message: \"Failed request to add tracks to playlist\"\n              }\n            }\n          };\n  }\n  var response$1 = response.response;\n  if (response$1 !== undefined) {\n    return {\n            TAG: /* Ok */0,\n            _0: Caml_option.valFromOption(response$1)\n          };\n  } else {\n    return {\n            TAG: /* Error */1,\n            _0: /* Empty */0\n          };\n  }\n}\n\nfunction addTracks(playlistId, items, authHeader) {\n  var query = generateTrackQueryParam(items);\n  return Future.mapResult(Future.mapError($$Request.make(SpotifyEnv$MyRescriptApp.playlistsUrl + playlistId + SpotifyEnv$MyRescriptApp.tracksEndpoint + query, \"POST\", /* JsonAsAny */5, undefined, Caml_option.some(authHeader), undefined, undefined, undefined, undefined, undefined), true, RequestMapper$MyRescriptApp.mapError), true, addTracksMapping);\n}\n\nfunction init(token) {\n  var authHeader = Js_dict.fromArray([[\n          \"Authorization\",\n          \"Bearer \" + token\n        ]]);\n  return function (userId, playlistName, items) {\n    return Future.map(Future.mapOk(createPlaylist(userId, playlistName, authHeader), true, (function (createdPlaylist) {\n                      return addTracks(createdPlaylist.id, items, authHeader);\n                    })), true, (function (param) {\n                  return \"\";\n                }));\n  };\n}\n\nexport {\n  createPlaylistMapping ,\n  createPlaylist ,\n  getTrackUris ,\n  generateTrackQueryParam ,\n  addTracksMapping ,\n  addTracks ,\n  init ,\n  \n}\n/* SpotifyEnv-MyRescriptApp Not a pure module */\n","\n\nimport * as Future from \"rescript-future/src/Future.bs.js\";\nimport * as Js_dict from \"bs-platform/lib/es6/js_dict.js\";\nimport * as $$Request from \"rescript-request/src/Request.bs.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Belt_HashMapString from \"bs-platform/lib/es6/belt_HashMapString.js\";\nimport * as SpotifyEnv$MyRescriptApp from \"../utils/SpotifyEnv.bs.js\";\nimport * as ModelMapper$MyRescriptApp from \"../utils/ModelMapper.bs.js\";\nimport * as RequestMapper$MyRescriptApp from \"../utils/RequestMapper.bs.js\";\n\nfunction mapResponseToItem(response) {\n  var status = response.status;\n  if (status !== 200) {\n    return {\n            TAG: /* Error */1,\n            _0: /* ResponseError */{\n              _0: {\n                message: \"Failed request with $status\"\n              }\n            }\n          };\n  }\n  var response$1 = response.response;\n  if (response$1 === undefined) {\n    return {\n            TAG: /* Error */1,\n            _0: /* Empty */0\n          };\n  }\n  var tracks = Belt_Array.map(Belt_Array.map(response$1.tracks, ModelMapper$MyRescriptApp.mapSearchTrackToItemTrack), (function (t) {\n          return {\n                  TAG: /* Track */2,\n                  _0: t\n                };\n        }));\n  return {\n          TAG: /* Ok */0,\n          _0: tracks\n        };\n}\n\nfunction getSeedArtists(items) {\n  return Belt_Array.keep(Belt_Array.map(items, (function (item) {\n                      switch (item.TAG | 0) {\n                        case /* Artist */1 :\n                            return item._0.id;\n                        case /* Genre */0 :\n                        case /* Track */2 :\n                            return ;\n                        \n                      }\n                    })), (function (artist) {\n                  return artist !== undefined;\n                })).join(\",\");\n}\n\nfunction getSeedTracks(items) {\n  return Belt_Array.keep(Belt_Array.map(items, (function (item) {\n                      switch (item.TAG | 0) {\n                        case /* Genre */0 :\n                        case /* Artist */1 :\n                            return ;\n                        case /* Track */2 :\n                            return item._0.id;\n                        \n                      }\n                    })), (function (artist) {\n                  return artist !== undefined;\n                })).join(\",\");\n}\n\nfunction getSeedGenres(items) {\n  return Belt_Array.keep(Belt_Array.map(items, (function (item) {\n                      switch (item.TAG | 0) {\n                        case /* Genre */0 :\n                            return item._0.id;\n                        case /* Artist */1 :\n                        case /* Track */2 :\n                            return ;\n                        \n                      }\n                    })), (function (artist) {\n                  return artist !== undefined;\n                })).join(\",\");\n}\n\nfunction generateQueryParam(items) {\n  var queryParam = Belt_HashMapString.fromArray([]);\n  var seedArtists = getSeedArtists(items);\n  if (seedArtists.length !== 0) {\n    Belt_HashMapString.set(queryParam, \"seed_artists\", seedArtists);\n  }\n  var seedTracks = getSeedTracks(items);\n  if (seedTracks.length !== 0) {\n    Belt_HashMapString.set(queryParam, \"seed_tracks\", seedTracks);\n  }\n  var seedGenres = getSeedGenres(items);\n  if (seedGenres.length !== 0) {\n    Belt_HashMapString.set(queryParam, \"seed_genres\", seedGenres);\n  }\n  return String(new URLSearchParams(Belt_HashMapString.toArray(queryParam)));\n}\n\nfunction init(token) {\n  var authHeader = Js_dict.fromArray([[\n          \"Authorization\",\n          \"Bearer \" + token\n        ]]);\n  return function (items) {\n    var queryParam = generateQueryParam(items);\n    return Future.mapResult(Future.mapError($$Request.make(SpotifyEnv$MyRescriptApp.recommendationUrl + queryParam, undefined, /* JsonAsAny */5, undefined, Caml_option.some(authHeader), undefined, undefined, undefined, undefined, undefined), true, RequestMapper$MyRescriptApp.mapError), true, mapResponseToItem);\n  };\n}\n\nexport {\n  mapResponseToItem ,\n  getSeedArtists ,\n  getSeedTracks ,\n  getSeedGenres ,\n  generateQueryParam ,\n  init ,\n  \n}\n/* SpotifyEnv-MyRescriptApp Not a pure module */\n","\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Future from \"rescript-future/src/Future.bs.js\";\nimport * as Recoil from \"recoil\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Core from \"@material-ui/core\";\nimport * as MaterialUi_TextField from \"@jsiebern/bs-material-ui/src/MaterialUi_TextField.bs.js\";\nimport * as ItemUtil$MyRescriptApp from \"../../util/ItemUtil.bs.js\";\nimport * as UserState$MyRescriptApp from \"../../state/UserState.bs.js\";\nimport * as ItemComponent$MyRescriptApp from \"../item/ItemComponent.bs.js\";\nimport * as RecommendationsState$MyRescriptApp from \"../../state/RecommendationsState.bs.js\";\n\nfunction Recommendations(Props) {\n  var spotifyClient = Props.spotifyClient;\n  var onPlaylistCreated = Props.onPlaylistCreated;\n  var match = React.useState(function () {\n        return \"\";\n      });\n  var setPlaylistName = match[1];\n  var playlistName = match[0];\n  var match$1 = Recoil.useRecoilState(RecommendationsState$MyRescriptApp.recommendationsState);\n  var setItems = match$1[1];\n  var items = match$1[0];\n  var user = Recoil.useRecoilValue(UserState$MyRescriptApp.userState);\n  var changePlaylistName = function ($$event) {\n    return Curry._1(setPlaylistName, $$event.target.value);\n  };\n  var goBack = function (param) {\n    return Curry._1(setItems, (function (param) {\n                  return [];\n                }));\n  };\n  var createPlaylist = function (param) {\n    return Future.get(Curry._3(spotifyClient.createPlaylist, user.id, playlistName, items), (function (response) {\n                  Curry._1(setItems, (function (param) {\n                          return [];\n                        }));\n                  return Curry._1(onPlaylistCreated, undefined);\n                }));\n  };\n  return React.createElement(\"div\", undefined, React.createElement(Core.Button, {\n                  onClick: goBack,\n                  children: \"<- Back to selection\"\n                }), React.createElement(Core.Typography, {\n                  children: \"Recommendations\",\n                  variant: \"h4\"\n                }), React.createElement(\"div\", {\n                  className: \"hbox\",\n                  style: {\n                    margin: \"16px auto\"\n                  }\n                }, React.createElement(Core.TextField, {\n                      style: {\n                        marginRight: \"8px\",\n                        flex: \"1\"\n                      },\n                      onChange: changePlaylistName,\n                      placeholder: \"Playlist Name\",\n                      value: MaterialUi_TextField.Value.string(playlistName),\n                      variant: \"outlined\"\n                    }), React.createElement(Core.Button, {\n                      onClick: createPlaylist,\n                      children: \"Save in Spotify\",\n                      color: \"primary\",\n                      disabled: playlistName.length === 0,\n                      variant: \"contained\"\n                    })), Belt_Array.map(items, (function (item) {\n                    var match = ItemUtil$MyRescriptApp.extractItemInfo(item);\n                    return React.createElement(ItemComponent$MyRescriptApp.make, {\n                                item: item,\n                                showGenreLabel: false,\n                                control: null,\n                                key: match[1]\n                              });\n                  })));\n}\n\nvar make = Recommendations;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Future from \"rescript-future/src/Future.bs.js\";\nimport * as Recoil from \"recoil\";\nimport * as Lab from \"@material-ui/lab\";\nimport * as MaterialUi_Types from \"@jsiebern/bs-material-ui/src/MaterialUi_Types.bs.js\";\nimport * as Core from \"@material-ui/core\";\nimport * as About$MyRescriptApp from \"../about/About.bs.js\";\nimport * as Header$MyRescriptApp from \"../header/Header.bs.js\";\nimport * as Creation$MyRescriptApp from \"../creation/Creation.bs.js\";\nimport * as UserState$MyRescriptApp from \"../../state/UserState.bs.js\";\nimport * as TokenState$MyRescriptApp from \"../../state/TokenState.bs.js\";\nimport * as SpotifyService$MyRescriptApp from \"../../services/SpotifyService.bs.js\";\nimport * as Recommendations$MyRescriptApp from \"../recommendations/Recommendations.bs.js\";\nimport * as RecommendationsState$MyRescriptApp from \"../../state/RecommendationsState.bs.js\";\n\nfunction Dashboard(Props) {\n  var token = Recoil.useRecoilValue(TokenState$MyRescriptApp.tokenState);\n  var recommendations = Recoil.useRecoilValue(RecommendationsState$MyRescriptApp.recommendationsState);\n  var match = Recoil.useRecoilState(UserState$MyRescriptApp.userState);\n  var setUser = match[1];\n  var match$1 = React.useState(function () {\n        return false;\n      });\n  var setSnackbarOpen = match$1[1];\n  var spotifyClient = SpotifyService$MyRescriptApp.init(token);\n  React.useEffect((function () {\n          Future.get(Curry._1(spotifyClient.getUser, undefined), (function (response) {\n                  if (response.TAG === /* Ok */0) {\n                    var user = response._0;\n                    return Curry._1(setUser, (function (param) {\n                                  return user;\n                                }));\n                  }\n                  console.log(response._0);\n                  \n                }));\n          \n        }), []);\n  var handleAlertClose = function (param) {\n    return Curry._1(setSnackbarOpen, (function (param) {\n                  return false;\n                }));\n  };\n  var handleClose = function (param, param$1) {\n    return Curry._1(setSnackbarOpen, (function (param) {\n                  return false;\n                }));\n  };\n  var onPlaylistCreated = function (param) {\n    return Curry._1(setSnackbarOpen, (function (param) {\n                  return true;\n                }));\n  };\n  return React.createElement(\"div\", undefined, React.createElement(Header$MyRescriptApp.make, {\n                  authenticated: true\n                }), recommendations.length !== 0 ? React.createElement(Recommendations$MyRescriptApp.make, {\n                    spotifyClient: spotifyClient,\n                    onPlaylistCreated: onPlaylistCreated\n                  }) : React.createElement(Creation$MyRescriptApp.make, {\n                    spotifyClient: spotifyClient\n                  }), React.createElement(About$MyRescriptApp.make, {}), React.createElement(Core.Snackbar, {\n                  autoHideDuration: MaterialUi_Types.$$Number.$$int(6000),\n                  children: React.createElement(Lab.Alert, {\n                        children: \"Playlist saved\",\n                        onClose: handleAlertClose,\n                        severity: \"success\"\n                      }),\n                  onClose: handleClose,\n                  open: match$1[0]\n                }));\n}\n\nvar make = Dashboard;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","\n\nimport * as UserService$MyRescriptApp from \"./user/UserService.bs.js\";\nimport * as GenresService$MyRescriptApp from \"./genres/GenresService.bs.js\";\nimport * as SearchService$MyRescriptApp from \"./search/SearchService.bs.js\";\nimport * as PlaylistService$MyRescriptApp from \"./playlist/PlaylistService.bs.js\";\nimport * as RecommendationService$MyRescriptApp from \"./recomendations/RecommendationService.bs.js\";\n\nfunction init(token) {\n  return {\n          getSearch: SearchService$MyRescriptApp.init(token),\n          getGenres: GenresService$MyRescriptApp.init(token),\n          getRecommendation: RecommendationService$MyRescriptApp.init(token),\n          createPlaylist: PlaylistService$MyRescriptApp.init(token),\n          getUser: UserService$MyRescriptApp.init(token)\n        };\n}\n\nexport {\n  init ,\n  \n}\n/* UserService-MyRescriptApp Not a pure module */\n","\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Recoil from \"recoil\";\nimport * as Core from \"@material-ui/core\";\nimport * as Auth$MyRescriptApp from \"../auth/Auth.bs.js\";\nimport * as MaterialUi_Container from \"@jsiebern/bs-material-ui/src/MaterialUi_Container.bs.js\";\nimport * as Dashboard$MyRescriptApp from \"../dashboard/Dashboard.bs.js\";\nimport * as TokenState$MyRescriptApp from \"../../state/TokenState.bs.js\";\nimport * as AuthorizationService$MyRescriptApp from \"../../services/authorization/AuthorizationService.bs.js\";\n\nfunction MainContainer(Props) {\n  var match = Recoil.useRecoilState(TokenState$MyRescriptApp.tokenState);\n  var setToken = match[1];\n  React.useEffect((function () {\n          var token = AuthorizationService$MyRescriptApp.getTokenFromCallback(undefined);\n          if (token !== undefined) {\n            Curry._1(setToken, (function (param) {\n                    return token;\n                  }));\n          } else {\n            Curry._1(setToken, (function (param) {\n                    return \"\";\n                  }));\n          }\n          \n        }), []);\n  return React.createElement(Core.Container, {\n              children: match[0].length !== 0 ? React.createElement(Dashboard$MyRescriptApp.make, {}) : React.createElement(Auth$MyRescriptApp.make, {}),\n              maxWidth: MaterialUi_Container.MaxWidth.sm\n            });\n}\n\nvar make = MainContainer;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","\n\nimport * as React from \"react\";\nimport * as Recoil from \"recoil\";\nimport * as MainContainer$MyRescriptApp from \"../main/MainContainer.bs.js\";\n\nimport './App.css';\n;\n\nfunction App(Props) {\n  return React.createElement(Recoil.RecoilRoot, {\n              children: React.createElement(MainContainer$MyRescriptApp.make, {})\n            });\n}\n\nvar make = App;\n\nexport {\n  make ,\n  \n}\n/*  Not a pure module */\n","\n\nimport * as React from \"react\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as App$MyRescriptApp from \"../app/App.bs.js\";\nimport * as ReactDomExperimental$MyRescriptApp from \"../../bindings/ReactDomExperimental.bs.js\";\n\nimport './Index.css';\n;\n\nvar root = ReactDomExperimental$MyRescriptApp.createRootWithId(\"root\");\n\nif (root !== undefined) {\n  Caml_option.valFromOption(root).render(React.createElement(React.StrictMode, {\n            children: React.createElement(App$MyRescriptApp.make, {})\n          }));\n}\n\nexport {\n  \n}\n/*  Not a pure module */\n","\n\nimport * as ReactDom from \"react-dom\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\n\nfunction createRootWithId(id) {\n  var element = document.getElementById(id);\n  if (!(element == null)) {\n    return Caml_option.some(ReactDom.unstable_createRoot(element));\n  }\n  \n}\n\nfunction createBlockingRootWithId(id) {\n  var element = document.getElementById(id);\n  if (!(element == null)) {\n    return Caml_option.some(ReactDom.unstable_createBlockingRoot(element));\n  }\n  \n}\n\nexport {\n  createRootWithId ,\n  createBlockingRootWithId ,\n  \n}\n/* react-dom Not a pure module */\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import './components/index/Index.bs';\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nimport reportWebVitals from './reportWebVitals';\nreportWebVitals();\n"],"sourceRoot":""}